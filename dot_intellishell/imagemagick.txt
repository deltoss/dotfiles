# --------------------------------------------------------------
#   Commands
# --------------------------------------------------------------

# Remove duplicate gif frames
magick {{input.gif}} -coalesce -layers RemoveDups {{output.gif}}

# Split gif into its individual png frames
magick {{input.gif}} frame_%04d.png

# --------------------------------------------------------------
#   Completions
# --------------------------------------------------------------

$ (magick) input.gif: fd .gif
$ (magick) output.gif: fd .gif