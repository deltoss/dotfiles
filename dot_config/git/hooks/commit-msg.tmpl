#!/bin/sh
# Based on: https://doitpshway.com/automation-of-your-git-repository-via-git-hooks-and-powershell-scripts#2-how-to-check-commit-message-format-commit-msg
echo "#####################"
echo "###### COMMIT-MSG git hook"
SCRIPT_DIR=$( cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )

{{- if eq .computerPurpose "work" }}
exec powershell.exe -NoProfile -ExecutionPolicy Bypass -file "$SCRIPT_DIR/check-commit-msg.ps1" "$1"
{{ end -}}
exit
